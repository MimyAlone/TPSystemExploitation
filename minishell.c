#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <string.h>
#include <dirent.h>
#define MAX 100

int main()
{
	char instruction[MAX];
    DIR* directory;
    struct dirent* dirinfos;
    
    

	scanf("%s",instruction);

	while((strcmp(instruction,"fin") != 0) && (strcmp(instruction,"") != 0))
	{
		if (strcmp(instruction,"makedirectory") == 0)
		{
			scanf("%s",instruction);
			//création d'un répertoire
//             strcat(buff,"./");
//             strcat(buff,instruction);
//             printf("%s\n",buff);
			if (mkdir(instruction, 00777 ) == -1)
            {
                printf("ERREUR création de dossier\n");
            }
		}
		if (strcmp(instruction,"liste") == 0)
		{
			dirinfos = (struct dirent*)malloc(sizeof(struct dirent));
            
            scanf("%s",instruction);
			//afficher tous les fichiers d'un répertoire (opendir, readdir)
            directory = opendir(instruction);
            dirinfos = readdir(directory);
            
            free(dirinfos);
        }
		if (strcmp(instruction,"size") == 0)
		{
			scanf("%s",instruction);
			//afficher la taille d'un fichier
		}
		if (strcmp(instruction,"info") == 0)
		{
			scanf("%s",instruction);
			//afficher les infos suivantes pour un fichier (stat):
//le numéro d'inode
//le fichier est-il un fichier ordinaire ou un répertoire
//Les membres du groupe ont-il le droit d'exécution sur ce fichier
		}
		if (strcmp(instruction,"chmod") == 0)
		{
			scanf("%s",instruction);
			//changer les permissions d'un fichier (chmod)
		}
		
		scanf("%s",instruction);
	}
	return 0;
}
