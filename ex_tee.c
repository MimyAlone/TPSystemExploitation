#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <unistd.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#define TAILLE 100

int main(int argc, char *argv[]){
	int ficSortie;char c[TAILLE];
	if(!(argc == 2))
	{
		fprintf(stderr,"Erreur: Veuillez passer en argument un fichier de sortie.\n");
		exit(1);
	}
	else
	{
		if((ficSortie = open(argv[1],O_RDONLY)) == -1)
		{
			perror("Erreur ouverture fichier de sortie\n");
			exit(2);
		}else
		{	//le fichier s est bien ouvert
			while(1)
			{
				printf("\n");
				scanf("%s",c);
				write(ficSortie,c,TAILLE);
				fprintf(stdout,c);
			}
		}
	}
	exit(0);
	return(0);
}
